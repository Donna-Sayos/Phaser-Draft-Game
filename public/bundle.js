(()=>{"use strict";let e,s,t,i,a,r,o,l,d,h,c,n,p,y;class m extends Phaser.Scene{constructor(){super({key:"CaveScene"})}preload(){this.load.image("background","public/assets/bg/goblin-cave.png"),this.load.image("box","public/assets/objects/nobody.png"),this.load.spritesheet("baby","public/assets/sprites/mini-naked-baby.png",{frameWidth:37,frameHeight:58})}create(){this.cameras.main.setBounds(0,0,1024,2e3),this.add.image(0,0,"background").setOrigin(0),e=this.physics.add.sprite(180,140,"baby"),e.body.setSize(23,26).setOffset(7.5,25),e.body.allowGravity=!1,e.setGravity(0,0),e.setVelocityY(0),this.cameras.main.startFollow(e),this.cameras.main.setZoom(2),s=this.physics.add.image(155,915,"box").setScale(2).refreshBody().setImmovable(!0),s.body.setSize(100,30).setOffset(35,110),s.body.allowGravity=!1,this.cursors=this.input.keyboard.createCursorKeys(),this.anims.create({key:"down",frames:this.anims.generateFrameNumbers("baby",{frames:[0,1,2,3]}),frameRate:10,repeat:-1}),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("baby",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("baby",{frames:[8,9,10,11]}),frameRate:20,repeat:-1}),this.anims.create({key:"walkup",frames:this.anims.generateFrameNumbers("baby",{frames:[12,13,14,15]}),frameRate:20,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"baby",frames:0}],frameRate:20}),this.physics.add.collider(e,s)}update(){this.cursors.left.isDown?(e.setVelocityX(-160),e.anims.play("left",!0)):this.cursors.right.isDown?(e.setVelocityX(160),e.anims.play("right",!0)):this.cursors.up.isDown?(e.setVelocityY(-110),e.anims.play("walkup",!0)):this.cursors.down.isDown?(e.setVelocityY(180),e.anims.play("down",!0)):(e.setVelocityX(0),e.anims.play("turn"))}}let u=!1;const b={score:0};class g extends Phaser.Scene{constructor(){super({key:"DesertScene"})}preload(){this.load.image("desert","public/assets/bg/desert.png"),this.load.image("ground","public/assets/tiles/desert-platform.png"),this.load.image("mini","public/assets/tiles/mini-platform.png"),this.load.image("iceCream","public/assets/objects/iceCream.png"),this.load.image("poop","/public/assets/objects/poop.png"),this.load.image("stone-block","public/assets/objects/StoneBlock.png"),this.load.image("portal","public/assets/objects/portal.png"),this.load.spritesheet("baby","public/assets/sprites/mini-naked-baby.png",{frameWidth:37,frameHeight:58}),this.load.audio("pickup-audio","public/assets/audio/pickup.mp3"),this.load.audio("explosion-audio","public/assets/audio/explosion.mp3"),this.load.audio("portal-audio","public/assets/audio/portal-audio.mp3")}create(){this.cameras.main.setBounds(0,0,1024,2e3),this.add.image(0,0,"desert").setOrigin(0).setScrollFactor(1),r=this.physics.add.image(530,this.game.renderer.height+40,"ground").setScale(2).refreshBody().setImmovable(!0),r.body.setSize(400,30).setOffset(35,110),r.body.allowGravity=!1,o=this.physics.add.image(100,350,"ground").setImmovable(!0),o.body.setSize(275,30).setOffset(160,110),o.body.allowGravity=!1,l=this.physics.add.image(650,470,"mini").setImmovable(!0),l.body.setSize(150,40).setOffset(150,194),l.body.allowGravity=!1,l.setVelocityX(50),d=this.physics.add.image(780,220,"ground").setImmovable(!0),d.body.setSize(300,30).setOffset(24,110),d.body.allowGravity=!1,d.setVelocityY(50),h=this.physics.add.image(650,this.game.renderer.height-250,"mini").setImmovable(!0),h.body.setSize(150,40).setOffset(150,194),h.body.allowGravity=!1,h.setVelocityX(50),c=this.physics.add.image(500,800,"mini").setImmovable(!0),c.body.setSize(150,30).setOffset(150,194),c.body.allowGravity=!1,c.setVelocityY(50),p=this.physics.add.staticGroup(),p.create(650,this.game.renderer.height-150,"stone-block"),p.create(730,this.game.renderer.height-400,"stone-block"),p.create(150,this.game.renderer.height-300,"stone-block"),n=this.physics.add.image(70,this.game.renderer.height-150,"stone-block").setImmovable(!0),n.body.allowGravity=!1,n.setVelocity(100,-100),this.tweens.timeline({targets:n.body.velocity,loop:-1,tweens:[{x:0,y:-180,duration:2e3,ease:"Stepped"},{x:0,y:0,duration:1e3,ease:"Stepped"},{x:150,y:80,duration:4e3,ease:"Stepped"},{x:0,y:-180,duration:2e3,ease:"Stepped"},{x:0,y:0,duration:1e3,ease:"Stepped"},{x:-150,y:100,duration:4e3,ease:"Stepped"}]}),b.player=this.physics.add.sprite(20,350,"baby"),b.player.body.setSize(23,26).setOffset(7.5,25),b.player.setBounce(.5),b.player.setCollideWorldBounds(!0),this.cameras.main.startFollow(b.player),this.cameras.main.setZoom(1.2),this.cameras.main.roundPixels=!0,this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("baby",{start:4,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"baby",frames:0}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("baby",{start:8,end:11}),frameRate:10,repeat:-1}),this.pickUpSound=this.sound.add("pickup-audio"),this.explosionSound=this.sound.add("explosion-audio"),this.portalSound=this.sound.add("portal-audio"),y=this.input.keyboard.createCursorKeys(),t=this.physics.add.group({key:"iceCream",repeat:14,setXY:{x:12,y:0,stepX:55}}),t.children.iterate((function(e){e.setBounceY(Phaser.Math.FloatBetween(.4,.6))})),i=this.physics.add.group(),a=this.physics.add.group(),b.scoreText=this.add.text(14,14,"score: 0",{fontSize:"40px",fill:"#000"}),this.physics.add.collider(b.player,r),this.physics.add.collider(b.player,o),this.physics.add.collider(b.player,n),this.physics.add.collider(b.player,p),this.physics.add.collider(b.player,l),this.physics.add.collider(b.player,d),this.physics.add.collider(b.player,h),this.physics.add.collider(b.player,c),this.physics.add.collider(t,r),this.physics.add.collider(t,o),this.physics.add.collider(t,n),this.physics.add.collider(t,p),this.physics.add.collider(t,l),this.physics.add.collider(t,d),this.physics.add.collider(t,h),this.physics.add.collider(t,c),this.physics.add.collider(a,r),this.physics.add.collider(a,o),this.physics.add.collider(a,n),this.physics.add.collider(a,p),this.physics.add.collider(a,l),this.physics.add.collider(a,d),this.physics.add.collider(a,h),this.physics.add.collider(a,c),this.physics.add.collider(i,r),this.physics.add.collider(i,o),this.physics.add.collider(i,n),this.physics.add.collider(i,p),this.physics.add.collider(i,a),this.physics.add.collider(i,l),this.physics.add.collider(i,d),this.physics.add.collider(i,h),this.physics.add.collider(i,c),this.physics.add.overlap(b.player,t,this.collecticeCream,null,this),this.physics.add.collider(b.player,i,this.hitpoop,null,this),this.physics.add.collider(b.player,a,this.hitPortal,null,this)}update(){y.left.isDown?(b.player.setVelocityX(-160),b.player.anims.play("left",!0)):y.right.isDown?(b.player.setVelocityX(160),b.player.anims.play("right",!0)):(b.player.setVelocityX(0),b.player.anims.play("turn")),y.up.isDown&&b.player.body.touching.down&&b.player.setAngle(0).setVelocityY(-360),l.x>=700?l.setVelocityX(-100):l.x<=300&&l.setVelocityX(100),d.y>=300?d.setVelocityY(-50):d.y<=100&&d.setVelocityY(50),h.x>=700?h.setVelocityX(-100):h.x<=300&&h.setVelocityX(100),c.y>=800?c.setVelocityY(-90):c.y<=550&&c.setVelocityY(50),n.y>=300?n.setVelocityY(-60):n.y<=200&&n.setVelocityY(60)}collecticeCream=(e,s)=>{if(s.disableBody(!0,!0),this.pickUpSound.play(),b.score+=10,b.scoreText.setText(`score: ${b.score}`),5===t.countActive(!0)){t.children.iterate((function(e){e.enableBody(!0,e.x,0,!0,!0)}));let s=e.x<400?Phaser.Math.Between(400,800):Phaser.Math.Between(0,400),a=i.create(s,20,"poop");a.setBounce(1),a.setSize(25,23).setOffset(12,15),a.setCollideWorldBounds(!0),a.setVelocity(Phaser.Math.Between(-200,200),20),a.allowGravity=!1}else if(10===b.score){let s=e.x<400?Phaser.Math.Between(400,800):Phaser.Math.Between(0,400),t=a.create(s,30,"portal");t.setSize(100,100).setOffset(17,19),t.setVelocity(Phaser.Math.Between(-200,200),20),t.setCollideWorldBounds(!0),t.allowGravity=!1}};hitPortal=(e,s)=>{this.portalSound.play(),e.setTint(65280),this.scene.start("ToBeContinued"),e.setScale};hitpoop=(e,s)=>{this.explosionSound.play(),this.physics.pause(),e.setTint(16711680),this.add.text(this.game.renderer.width/2.5,.2*this.game.renderer.height,"Game Over",{font:"30px monospace",fill:"#000000"}),this.add.text(this.game.renderer.width/2.5,.4*this.game.renderer.height,"Click to restart",{font:"20px monospace",fill:"#000000"}),this.input.on("pointerup",(()=>{b.score=0,this.scene.restart()})),e.anims.play("turn"),u=!0}}class f extends Phaser.Scene{constructor(){super({key:"loadScene"})}loadAudio=()=>{this.load.setPath("public/assets/audio")};loadBg=()=>{this.load.setPath("public/assets/bg")};loadObjects=()=>{this.load.setPath("public/assets/objects")};preload(){this.load.spritesheet("baby","public/assets/sprites/mini-naked-baby.png",{frameWidth:37,frameHeight:58}),this.load.image("ground","public/assets/tiles/desert-platform.png"),this.load.image("lol","public/assets/objects/lol.png"),this.loadAudio(),this.loadBg(),this.loadObjects();let e=this.cameras.main.width,s=this.cameras.main.height,t=this.make.text({x:e/2,y:s/2-10,text:"Loading...",style:{font:"30px monospace",fill:"#ffffff"}});t.setOrigin(.5,.5);let i=this.make.text({x:e/2,y:s/2-5,text:"0%",style:"monospace",fill:"#ffffff"});i.setOrigin(.5,-2),i.depth=1;let a=this.make.text({x:e/2,y:s/2+50,text:"",style:{font:"20px monospace",fill:"#ffffff"}});a.setOrigin(.5,-2);let r=this.add.graphics(),o=this.add.graphics();o.fillStyle(2236962,.8),o.fillRect(140,this.game.renderer.height/2,520,70);for(let e=0;e<500;e++)this.load.spritesheet("butt"+e,"public/assets/objects/butt.png");this.load.on("progress",(e=>{r.clear(),r.fillStyle(16777215,1),r.fillRect(150,this.game.renderer.height/1.97,500*e,60),i.setText(parseInt(100*e)+"%")})),this.load.on("fileprogress",(e=>{a.setText("Loading asset: "+e.key)})),this.load.on("complete",(()=>{console.log("Loading comple..."),r.destroy(),o.destroy(),t.destroy(),i.destroy(),a.destroy()}))}create(){this.add.image(400,550,"lol"),setTimeout((()=>{this.scene.start("StartScene")}),800)}}class x extends Phaser.Scene{constructor(){super({key:"StartScene"})}preload(){this.load.spritesheet("baby","public/assets/sprites/mini-naked-baby.png",{frameWidth:37,frameHeight:58}),this.load.image("background","public/assets/bg/desert.png"),this.load.image("play-button","public/assets/objects/play_button.png"),this.load.audio("music","public/assets/audio/cave.mp3")}onClicked=()=>{this.scene.start("DesertScene")};create(){this.cameras.main.fadeFrom(2e3,Phaser.Math.Between(50,255),Phaser.Math.Between(50,255),Phaser.Math.Between(50,255),Phaser.Math.Between(50,255)),this.add.image(0,0,"background").setOrigin(0),this.add.text(this.game.renderer.width/3.7,.2*this.game.renderer.height,"Play with me 😏",{font:"50px monospace",fill:"#ffffff"});let e=this.physics.add.sprite(150,350,"baby").setCollideWorldBounds(!0);e.body.allowGravity=!1,e.setScale(1.5),e.setVisible(!1),this.sound.pauseOnBlur=!1,this.sound.play("music",{loop:!0}),this.anims.create({key:"walk",framRate:4,repeat:-1,frames:this.anims.generateFrameNumbers("baby",{frames:[0,1,2,3]})});let s=this.add.image(this.game.renderer.width/2,this.game.renderer.height/2,"play-button").setDepth(1);s.setInteractive(),s.on("pointerover",(()=>{e.setVisible(!0),e.play("walk"),e.x=s.x-s.width,e.y=s.y})),s.on("pointerup",this.onClicked,this)}}class w extends Phaser.Scene{constructor(){super({key:"ToBeContinued"})}preload(){this.load.image("incomplete","public/assets/bg/thanks.jpg"),this.load.image("troll","public/assets/objects/troll.png")}create(){this.cameras.main.setBounds(0,0,1024,2e3);let e=this.add.image(10,34,"incomplete").setOrigin(0);this.cameras.main.startFollow(e),this.cameras.main.setZoom(2),this.cameras.main.roundPixels=!0,setTimeout((()=>{let e=this.physics.add.image(0,0,"troll").setOrigin(0);e.setCollideWorldBounds(!0),e.body.allowGravity=!1,setTimeout((()=>{this.scene.start("StartScene")}),2e3)}),2e3)}}const k={type:Phaser.AUTO,pixelArt:!0,title:"Survive Deeznuts",scale:{parent:"game-container",autoCenter:Phaser.Scale.CENTER_BOTH},width:800,height:1120,physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}},scene:[f,x,g,w,m]};new Phaser.Game(k)})();
//# sourceMappingURL=bundle.js.map